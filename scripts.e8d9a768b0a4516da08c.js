!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ImageMap=t()}(this,(function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.selector=e instanceof Array?e:document.querySelectorAll(e),"complete"!==document.readyState?window.addEventListener("load",this.update.bind(this)):this.update(),window.addEventListener("resize",this.debounce(this.update,n).bind(this))}var n,r,o;return n=t,o=[{key:"genAreaSelector",value:function(e){return'map[name="'.concat(e,'"] area')}}],(r=[{key:"update",value:function(){for(var e=this.selector,t=0;t<e.length;t++){var n=e[t];if(void 0===n.getAttribute("usemap"))return;var r=n.cloneNode();r.addEventListener("load",this.handleImageLoad(n.offsetWidth,n.offsetHeight)),r.src=n.src}}},{key:"debounce",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];window.clearTimeout(t),t=window.setTimeout((function(t){return e.apply(t,a)}),r,n)}}},{key:"handleImageLoad",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(r){for(var o=r.target.width,a=r.target.height,i=e/100,u=n/100,d=r.target.getAttribute("usemap").replace(/^#/,""),c=document.querySelectorAll(t.genAreaSelector(d)),s=function(e){var t=c[e],n=(t.dataset.coords=t.dataset.coords||t.getAttribute("coords")).split(","),r=n.map((function(e,t){return Number(t%2==0?n[t]/o*100*i:n[t]/a*100*u)}));t.setAttribute("coords",r.toString())},l=0;l<c.length;l++)s(l)}}}])&&e(n.prototype,r),o&&e(n,o),t}();function n(e,n){return new t(e,n)}return n.VERSION="2.0.0",n}));